<?phpnamespace model;use Move\db;use Move\ext\page;class user_log extends common{	public function pages($where = null, $size = 10)	{		$count = db::table("user_log")->where($where)->count();		$PageObj = new page($count, $size);		$show = $PageObj->show();		$list = db::table("user_log")->where($where)->order("`id` desc")->limit($PageObj->firstRow, $PageObj->listRows)->select();		return ["list" => $list, "show" => $show];	}	public function checks($type = null)	{		if (!$type) {			return false;		}		if (db::table("user_log")->where(["type" => $type])->find()) {			return true;		} else {			return false;		}	}	public function set_password($userid = null)	{		if (!$userid) {			return false;		}		$addip = get_ip();		if (!$addip) {			return false;		}		$addr = get_city($addip);		if (!$addr) {			return false;		}		$res = [];		$res = db::table("user_log")->add(["userid" => $userid, "type" => "set_password", "remark" => "修改登录密码", "addip" => $addip, "addr" => $addr, "addtime" => time(), "endtime" => 0, "status" => 1]);		if (!$res) {			return false;		} else {			return 1;		}	}	public function set_paypassword($userid = null)	{		if ($userid === NULL) {			$userid = session("userid");		}		if (!$userid) {			return false;		}		$addip = get_ip();		if (!$addip) {			return false;		}		$addr = get_city($addip);		if (!$addr) {			return false;		}		$res = [];		$res = db::table("user_log")->add(["userid" => $userid, "type" => "set_paypassword", "remark" => "修改交易密码", "addip" => $addip, "addr" => $addr, "addtime" => time(), "endtime" => 0, "status" => 1]);		if (!$res) {			return false;		} else {			return 1;		}	}}