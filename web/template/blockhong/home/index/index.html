{include file="public:index_header"}
<link href="__CSS__/lhang/index.css" rel="stylesheet">
<link rel="stylesheet" href="__EXT__/slider/css/slider.css">
<script src="__JS__/lh/slides.js"></script>
<div data-v-8a35b7d8="" id="home" class="homepage app_main">
	<div data-v-8a35b7d8="" class="content_common">
		<!--轮播-->
		<div data-v-8a35b7d8="" class="swiper_pannel" >
			{#slider('index')}

			{if $user}
			<!--<div class="login_pannel_">-->
				<!--<div class="login_pannel login_pannel">-->
					<!--<div class="login_on_panel"><h3>{$user['username']}</h3>-->
						<!--<div class="userLevel"></div>-->
						<!--<div class="userProperty"><h3>总资产</h3>-->
							<!--<ul class="total_money">-->
								<!--<li class="amount">-->
									<!--<div class="cny">￥</div>-->
									<!--<div class="total">{$user['zzc']}</div>-->
								<!--</li>-->

							<!--</ul>-->
						<!--</div>-->
						<!--<div class="buttonWrapper"><a href="{#url('/trade')}">快速交易</a></div>-->
						<!--<div class="otherLink">-->
							<!--<ul>-->
								<!--<li><a href="{#url('/finan/pay')}">充值</a></li>-->
								<!--<li class="tx"><a href="{#url('/finan/out')}">提现</a></li>-->
							<!--</ul>-->
						<!--</div>-->
						<!--<div class="security">-->
							<!--<a href="{#url('/article/index/typeid/2')}" class="security_add"> 去资讯页面逛逛？ </a></div>-->
					<!--</div>-->
				<!--</div>-->
			<!--</div>-->
			{else}

			<!--<div class="login_pannel_">
				<div class="login_pannel login_pannel">
					<div class="login_out_panel"><h3>{#lang('登录')}</h3>
						<div class="form login-form">
							<div class="input-icon">
								 <input type="text" id="index_mobles" class="texts" style="display: none;">
								<input type="text" id="index_moble" autocomplete="off" placeholder="{#lang('请输入邮箱/手机')}" value="{#cookie('moble')}">
								<link rel="stylesheet" href="__EXT__/intlTelInput/css/intlTelInput.css">
								<script src="__EXT__/intlTelInput/js/intlTelInput.js"></script>
								<script>
									$("#index_mobles").intlTelInput({
										autoHideDialCode: false,
										defaultCountry: "cn",
										nationalMode: false,
										preferredCountries: ['cn', 'us', 'hk', 'tw', 'mo']
									});
								</script>
							</div>
							<div class="input-icon"><i ></i>
								<input type="password" id="index_password" aria-autocomplete="none" autocomplete="off" placeholder="{#lang('请输入密码')}">
							</div>
							<div class="input-icon" style="margin-top:17px;">
								<i  style="top:10px"></i>
								<input type="text" id="index_yzm" style="width: 140px;margin-left:-22px;" placeholder="{#lang('请输入验证码')}">
								<img src="{#url('ajax/verify')}" alt="" id="yzm_img" onclick="index_verify_ups()">
							</div>
							<ul class="check_forget">
								<li class="check_forget_list"><label><input type="checkbox" class="g_i_check">
									<span></span><span class="g_lable span_label">{#lang('记住此账户名')}</span></label></li>
								<li class="check_forget_list">
									<a href="{#url('/findpwd/index')}" class="">{#lang('忘记密码')}?</a></li>
							</ul>
							<div class="input-icon g_c_f"><span class="left"><button onclick="index_login()">{#lang('登录')}</button></span>
									<span class="right"><a href="{#url('/reg')}" class="">
										<button>{#lang('注册')}</button>
									</a></span></div>
						</div>
					</div>
				</div>
			</div>-->
			{/if}
		</div>
		<!--最新消息-->
		<div data-v-8a35b7d8="" class="latest_news">
			<div class="content12_common content12">
				<ul class="main">
					<li>
						<div class="new_msg_icon"></div>
						<div class="txt">{#lang('最新消息')}：</div>
					</li>
					<li class="content">
						<div class="content_z">
							{foreach $article_arr[1]['list'] as $v}
							<div class="sroll_list j_scroll">
								<a href="{#url('/article/detail/id/'.$v['id'])}"><span>{#lang($v['title'])}</span></a>
							</div>
							{/foreach}
						</div>
					</li>
					<li><a href="/article/detail/typeid/1" class="more">{#lang('更多')}...</a></li>
				</ul>
			</div>
		</div>
		<script>
			marqueen();
			function marqueen() {
				var _this = $('.content_z');
				$('.content_z').animate({
					marginTop: '-20px'
				}, 500, function () {
					_this.css('margin-top', 0).find('.sroll_list:first').appendTo(_this);
				})
				setTimeout(marqueen, 5000)
			}
		</script>
		<!--交易区-->
		<div data-v-66913358="" data-v-8a35b7d8="" class="quotes g_center">
			<div data-v-66913358="" class="header">
				<div data-v-66913358="" class="title">{#lang('行情信息')}</div>
				<a data-v-66913358="" target="_blank" href="/trade/chart" class="pro_icon">{#lang('专业交易')}</a></div>
			<ul data-v-66913358="" class="btn_ul">
				{foreach $trade_qu as $k => $v}
				<li data-v-66913358="" class="{if $k==0}active{/if}" id="trade_qu_{$v['id']}" data="{$v['id']}" onclick="trade_qu(this)">{#lang($v['title'])}</li>
				{/foreach}
			</ul>
			<ul data-v-66913358="" class="table_list list_head">
				<li data-v-66913358="">{#lang('交易市场')}</li>
				<li data-v-66913358="">{#lang('最新成交价')}</li>
				<li data-v-66913358="">{#lang('涨幅')}</li>
				<li data-v-66913358="">{#lang('买一价')}/{#lang('卖一价')}</li>
				<li data-v-66913358="">{#lang('24小时成交量')}</li>
			</ul>
			<div id="price_ul">

			</div>

			<div data-v-66913358="" class="more_area"><a data-v-66913358="" href="{#url('trade/index')}">{#lang('去交易中心')} &gt;&gt;</a>
			</div>
		</div>
		<!--交易区-->
		<script>

			function click_sortList(sortdata) {
				var a = $(sortdata).attr('data-toggle');
				var b = $(sortdata).attr('data-sort');
				$(".price_today_ull > li").find('.cagret-up').css('border-bottom-color', '#848484');
				$(".price_today_ull > li").find('.cagret-down').css('border-top-color', '#848484');
				$(".price_today_ull > li").attr('data-flaglist', 0).attr('data-toggle', 0);
				$(".price_today_ull > li").css('color', '');
				$(sortdata).css('color', '#1a81d6');

				if (a == 0) {
					priceTmp = priceTmp.sort(sortcoinList('dec', b));
					$(sortdata).find('.cagret-down').css('border-top-color', '#1a81d6');
					$(sortdata).find('.cagret-up').css('border-bottom-color', '#848484');
					$(sortdata).attr('data-flaglist', 1).attr('data-toggle', 1)
				}
				else if (a == 1) {
					$(sortdata).attr('data-toggle', 0).attr('data-flaglist', 2);
					$(sortdata).find('.cagret-up').css('border-bottom-color', '#1a81d6');
					$(sortdata).find('.cagret-down').css('border-top-color', '#848484');
					priceTmp = priceTmp.sort(sortcoinList('asc', b));
				}
				renderPage(priceTmp);
				change_line_bg('price_today_ul', 'li');

			}


			function trends() {
				$.getJSON('/ajax/index_b_trends?t=' + rd(), function (d) {
					trends = d;
					allcoin();

				});
			}

			function allcoin(cb) {
				var trade_qu_id = $('.btn_ul .active').attr('data');

				$.get('/ajax/allcoin_a/id/' + trade_qu_id + '?t=' + rd(), cb ? cb : function (data) {
					var d;
					if (data.status == 1) {
						d = data.url;
					}
					ALLCOIN = d;
					var t = 0;
					var img = '';
					priceTmp = [];
					//把json转换为二维数组 进行渲染
					for (var x in d) {
						if (typeof(trends[x]) != 'undefined' && parseFloat(trends[x]['yprice']) > 0) {
							rise1 = (((parseFloat(d[x][4]) + parseFloat(d[x][5])) / 2 - parseFloat(trends[x]['yprice'])) * 100) / parseFloat(trends[x]['yprice']);
							rise1 = rise1.toFixed(2);
						} else {
							rise1 = 0;
						}
						img = d[x].pop();
						d[x].push(rise1);
						d[x].push(x);
						d[x].push(img);
						priceTmp.push(d[x]);
					}
					//二次排序
					$('.price_today_ull > .click-sort').each(function () {
						var listId = $(this).attr('data-sort');
						if ($(this).attr('data-flaglist') == 1 && $(this).attr('data-sort') !== 0) {
							priceTmp = priceTmp.sort(sortcoinList('dec', listId))
						} else if ($(this).attr('data-flaglist') == 2 && $(this).attr('data-sort') !== 0) {
							priceTmp = priceTmp.sort(sortcoinList('asc', listId))
						}
					});
					renderPage(priceTmp);
					t = setTimeout('allcoin()', 5000);

				}, 'json');
			}

			function rd() {
				return Math.random()
			}
			//渲染函数
			function renderPage(ary) {
				var html = '';
				for (var i in ary) {
					var coinfinance = 0;
					if (typeof FINANCE == 'object') coinfinance = parseFloat(FINANCE.data[ary[i][8] + '_balance']);
					html += '<ul data-v-66913358="" class="table_list list_body">'+
							'<li data-v-66913358="">'+ary[i][0]+'</li>'+
							'<li data-v-66913358=""> '+ary[i][1]+'</li>'+
							'<li data-v-66913358="" class="'+(ary[i][7] >= 0 ?'increase_up':'increase_down')+'"><span data-v-66913358="" class="change_txt">'+((parseFloat(ary[i][7]) < 0.01 && parseFloat(ary[i][7]) > -0.01) ? "0.00" : (parseFloat(ary[i][7])).toFixed(2)) + ' %</span></li>'+
							'<li data-v-66913358="">'+ary[i][2]+'/'+ary[i][3]+'</li>'+
							'<li data-v-66913358="" class="link_icon"><span data-v-66913358="" class="vol_txt">'+formatCount(ary[i][6])+'</span></li>'+
							'<li data-v-66913358="" class="link_box"><a data-v-66913358="" href="/trade/index/market/' + ary[i][8]+'"></a></li>'+
							'</ul>';

				}
				$('#price_ul').html(html);
			}
			//保留2位
			function formatCount(count) {
				var countokuu = (count / 100000000).toFixed(3)
				var countwan = (count / 10000).toFixed(3)
				if (count > 100000000)
					return countokuu.substring(0, countokuu.lastIndexOf('.') + 3) + '{#lang("亿")}'
				if (count > 10000)
					return countwan.substring(0, countwan.lastIndexOf('.') + 3) + '{#lang("万")}'
				else
					return count
			}

			//排序函数
			function sortcoinList(order, sortBy) {
				var ordAlpah = (order == 'asc') ? '>' : '<';
				var sortFun = new Function('a', 'b', 'return parseFloat(a[' + sortBy + '])' + ordAlpah + 'parseFloat(b[' + sortBy + '])? 1:-1');
				return sortFun;
			}

			function trade_qu(o) {
				$('.btn_ul li').removeClass('active');
				$(o).addClass('active');
				allcoin();
			}
			trends();
		</script>
		<div data-v-1bf0c568="" data-v-8a35b7d8="" class="more_type">
			<div data-v-1bf0c568="" class="content12_common">
				<div data-v-1bf0c568="" class="header header_more">
					<div data-v-1bf0c568="" class="title">{#lang('优选多种数字资产交易类型')}</div>
					<div data-v-1bf0c568="" class="img_body">
						<div data-v-1bf0c568="" class="img_layout img_1"></div>
						<div data-v-1bf0c568="" class="img_layout img_2">
							<ul data-v-1bf0c568="" class="cont_box box_1">
								<li data-v-1bf0c568="" class="tit">BTC</li>
								<li data-v-1bf0c568="" class="txt">{#lang('首个基于区块链的数字资产')}，{#lang('加密')}、{#lang('透明')}。</li>
							</ul>
						</div>
						<div data-v-1bf0c568="" class="img_layout img_3"></div>
						<div data-v-1bf0c568="" class="img_layout img_4">
							<ul data-v-1bf0c568="" class="cont_box box_2">
								<li data-v-1bf0c568="" class="tit">ZEC</li>
								<li data-v-1bf0c568="" class="txt">“{#lang('零知识证明')}”，{#lang('更安全')}，{#lang('更具隐蔽性')}。</li>
							</ul>
						</div>
						<div data-v-1bf0c568="" class="img_layout img_5">
							<ul data-v-1bf0c568="" class="cont_box box_3">
								<li data-v-1bf0c568="" class="tit">ETC</li>
								<li data-v-1bf0c568="" class="txt">{#lang('源自以太坊区块链分叉')}，{#lang('实现智能合约')}。</li>
							</ul>
						</div>
						<div data-v-1bf0c568="" class="img_layout img_6">
							<ul data-v-1bf0c568="" class="cont_box box_4">
								<li data-v-1bf0c568="" class="tit">ETH</li>
								<li data-v-1bf0c568="" class="txt">{#lang('新一代密码学账本')}，{#lang('区块链数字资产2.0的代表')}，{#lang('智能合约应用')}。</li>
							</ul>
						</div>
						<div data-v-1bf0c568="" class="img_layout img_7">
							<a data-v-1bf0c568="" href="{#url('/article/detail/typeid/2')}" class="more_link"></a>
							<ul data-v-1bf0c568="" class="cont_box box_5">
								<li data-v-1bf0c568="" class="tit">More</li>
								<li data-v-1bf0c568="" class="txt">{#lang('了解更多')}</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div data-v-8a35b7d8="" class="characteristic_common homepage_characteristic">
			<div class="main">
				<div class="title">{#lang('值得投资者信赖的专业平台')}</div>
				<div class="characteristic_cont">
					<div class="char_group">
						<ul class="char_group_list">
							<li class="img_box img_box1"></li>
							<li class="char_tit">{#lang('安全')}</li>
							<li class="char_txt">{#lang('领先的分布式集群技术')}；{#lang('多层安全架构设计')}；{#lang('动态冷热钱包机制')}；{#lang('充分保障账户及信息安全')}</li>
						</ul>
					</div>
					<div class="char_group">
						<ul class="char_group_list">
							<li class="img_box img_box2"></li>
							<li class="char_tit">{#lang('专业')}</li>
							<li class="char_txt">{#lang('自主研发的海量并发撮合引擎')}；{#lang('多服务器支持高并发交易')}；{#lang('强稳定性运行')}</li>
						</ul>
					</div>
					<div class="char_group">
						<ul class="char_group_list">
							<li class="img_box img_box3"></li>
							<li class="char_tit">{#lang('贴心')}</li>
							<li class="char_txt">{#lang('优化的委托页面')}；{#lang('及时的行情提示')}；{#lang('定期的专业投研报告')}；7*17{#lang('小时客服服务')}；{#lang('多终端操作支持')}</li>
						</ul>
					</div>
					<div class="char_group">
						<ul class="char_group_list">
							<li class="img_box img_box4"></li>
							<li class="char_tit">{#lang('便捷')}</li>
							<li class="char_txt">{#lang('快速下单')}，{#lang('及时把握行情')}；{#lang('智能交易设计')}，{#lang('可视化账户资金查询界面')}，{#lang('交易明细一目了然')}</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<!--官方公告-->            {if $article_arr}
		<div data-v-8a35b7d8="" class="lhang_dynamic">
			<div class="content12_common">
				<div class="news-wrapper">
					{foreach $article_arr as $v}
					<div class="news">
						<div class="dib">{#lang($v['title'])}</div>
						<ul>
							{foreach $v['list'] as $kk=>$vv}
							<li>
								{if $kk<4}
								<a href="{#url('/article/detail/id/'.$v['id'])}" target="_blank"><span>{#addtime($vv['addtime'],'m/d')}</span>{#lang($vv['title'])}
								</a></li>
							{/if}
							<li class="more">
								<a href="{#url('/article/detail/typeid/'.$vv['type_id'])}">{#lang('查看更多')} &gt;&gt; </a></li>
							{/foreach}
						</ul>
					</div>
					{/foreach}
				</div>
			</div>
		</div>
		{/if}
		<script>
			//刷新验证码
			function index_verify_ups() {
				$('#yzm_img').attr('src', "{#url('verify/code')}?t=" + Math.random());
			}

			//登录
			function index_login() {
				var moble    = $("#index_moble").val();
				var mobles   = $("#index_mobles").val();
				var password = $("#index_password").val();
				var verify   = $("#index_yzm").val();
				var remenber = $('.g_i_check').is(':checked');


				if (moble == "" || moble == null) {
					layer.tips('{#lang("请输入手机号")}', '#index_moble', {tips: 2});
					return false;
				}
				if (password == "" || password == null) {
					layer.tips('{#lang("请输入登录密码")}', '#index_mobles', {tips: 2});
					return false;
				}
				if (verify == "" || verify == null) {
					layer.tips('{#lang("请输入验证码")}', '#index_yzm', {tips: 2});
					return false;
				}

				$.post("{#url('login/up_login')}", {
					moble: moble,
					mobles: mobles,
					password: password,
					verify: verify,
					login_token: "{$login_token}",
				}, function (data) {
					if (data.status == 1) {
						if(remenber){
							$.cookies.set('move_moble', moble);
						}else{
							$.cookies.set('move_moble', null);
						}
						layer.msg(data.info, {icon: 1});
						if (data.url) {
							window.location = data.url;
						} else {
							window.location.reload();
						}
					} else {
						index_verify_ups();
						layer.msg(data.info, {icon: 2});
						if (data.url) {
							window.location = data.url;
						}
					}
				}, "json");
			}


			$(function(){
				var move_moble = $.cookies.get('move_moble');
				if (move_moble != '' && move_moble != null) {
					$("#index_moble").val(move_moble);
				}
			})
		</script>
		{include file="public:footer"}