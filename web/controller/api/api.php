<?phpnamespace api;use Move\db;use Move\mvc\controller;class api extends controller{	public function __construct()	{		parent::__construct();		$config = md('sys_config')->lists();		if ($config['web_close'] != 1) {			exit(json_encode(['err' => $config['web_close_cause']]));		}		if (!isset($config['api_close']) || $config['api_close'] != 1) {			exit(json_encode(['err' => 'api接口已经关闭']));		}	}	public function index()	{		ajax('hello');	}	protected function pullpage($table, $where, $field, $order = null, $limit = 12)	{		$res = [];		$res['count'] = db::table($table)->where($where)->count();		$pid = isset($_GET['pid']) ? (intval($_GET['pid']) > 1 ? intval($_GET['pid']) : 1) : 1;		$start = ($pid - 1) * $limit;		$res['pageSize'] = $limit;		$res['curPage'] = $pid;		if ($order) {			$res['list'] = db::table($table)->where($where)->field($field)->limit($start, $limit)->order($order)->select();		} else {			$res['list'] = db::table($table)->where($where)->field($field)->limit($limit, $limit)->select();		}		return $res;	}}