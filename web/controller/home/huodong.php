<?phpnamespace home;use Move\db;use Move\ext\page;class huodong extends home{	public function __construct()	{		parent::__construct();		$this->is_game('huodong');	}	public function index()	{		$this->set_title('最新活动');		$this->display();	}	public function detail()	{		$this->set_title('活动详情');		$huodong['id'] = iv('get.id', 'd', '参数错误', 1);		if (!$huodong['id']) {			$huodong = db::table("huodong")->find();		} else {			$huodong = db::table("huodong")->where(["id" => $huodong['id']])->find();		}		if (isset($huodong['jian'])) {			$huodong['jian'] = mb_substr(strip_tags($huodong['value']), 0, 100) . '...';		} else {			$huodong['jian'] = [];		}		$this->assign('huodong', $huodong);		$shang = db::table("huodong")->where(['id#<' => $huodong['id'], 'status' => 1])->find();		if (!$shang) {			$shang['id'] = $huodong['id'];			$shang['title'] = '没有了';		}		$this->assign('shang', $shang);		$xia = db::table("huodong")->where(['id#>' => $huodong['id'], 'status' => 1])->find();		if (!$xia) {			$xia['id'] = $huodong['id'];			$xia['title'] = '没有了';		}		$this->assign('xia', $xia);		$this->display();	}}