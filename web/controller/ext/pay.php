<?phpnamespace ext;use Move\db;class pay{	protected $payment_path = APP_PATH . "/controller/ext/";	protected $module_path = "pay/";	protected $driver_path = "driver/";	protected $pay_data = "";	protected $handle = "";	public function __construct($pay_data)	{		if (!$pay_data) {			show_msg("id is must");		}		$this->pay_data = $pay_data;	}	public function sumbit()	{		if (!isset($this->pay_data['title'])) {			show_msg("订单标题[title]未获取");		}		if (!isset($this->pay_data['orderno'])) {			show_msg("订单号[orderno]未获取");		}		if (!isset($this->pay_data['amount'])) {			show_msg("订单金额[amount]未获取");		}		if (!isset($this->pay_data['remark'])) {			$this->pay_data['remark'] = "";		}		if (!isset($this->pay_data['base_url'])) {			$this->pay_data['base_url'] = $_SERVER['REQUEST_SCHEME'] . "://" . APP_HOST . "/";		}		self::import();		$this->handle->submit();	}	public function return_url()	{		self::import();		$this->handle->return_url();	}	public function notify_url()	{		self::import();		$this->handle->notify_url();	}	protected function import()	{		$name = $this->pay_data['name'];		$class = "\\ext\\pay\\$name";		if (!class_exists($class)) {			show_msg("支付模块 " . $name . " 不存在!");		}		return $this->handle = $class::init($this->pay_data);	}} 