<?phpif (!defined("APP_PATH")) exit("no direct access allowed");require_once __DIR__ . '/common.php';if (!isset($list_conf)) {	exit("access deny!");}OssClient::setConfig($list_conf);$img_host = $list_conf['host'];$prefix = isset($_GET['prefix']) ? trim($_GET['prefix']) : "";$up_prefix = explode("/", $prefix);array_pop($up_prefix);array_pop($up_prefix);$up_prefix[] = "";$up_prefix = implode("/", $up_prefix);$options = ["prefix" => $prefix];$ossClient = OssClient::init();$res = [];$listObjectInfo = $ossClient->listObjects(OssClient::getBucket(), $options);$objectList = $listObjectInfo->getObjectList();$prefixList = $listObjectInfo->getPrefixList();if (!empty($objectList)) {	foreach ($objectList as $objectInfo) {		$res['objectList'][] = ["name" => str_replace($options['prefix'], "", $objectInfo->getKey()), "key" => $objectInfo->getKey(), "lastModified" => $objectInfo->getLastModified(), "size" => round($objectInfo->getSize() / 1024, 2),];	}}if (!empty($prefixList)) {	foreach ($prefixList as $prefixInfo) {		$res['prefixList'][] = $prefixInfo->getPrefix();	}}$res['prefix'] = $prefix;$listdata = $res; ?>