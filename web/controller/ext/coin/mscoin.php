<?phpnamespace ext\coin;class mscoin{	public static function mycurl($host, $port, $password, $pararm)	{		if ($port) {			$url = "http://" . $host . ":" . $port . "/index.php?" . $pararm;		} else {			$url = "http://" . $host . "/index.php?" . $pararm;		}		$timesnap = time();		$token = md5($password . "_MSCOIN_" . md5($timesnap));		$url = $url . "&timesnap=" . $timesnap . "&token=" . $token;		$opts = ['http' => ['method' => 'get', 'timeout' => 5,]];		$context = stream_context_create($opts);		$data = file_get_contents($url, 0, $context);		$ret = json_decode($data, true);		if (!$ret || !isset($ret['status']) || !isset($ret['msg'])) {			file_put_contents(APP_PATH . "/runtime/debug/mscoin.log", "mscoin 调用失败", FILE_APPEND);			file_put_contents(APP_PATH . "/runtime/debug/mscoin.log", json_encode($data), FILE_APPEND);			exit();		}		return $ret;	}	public static function mycurl2($host, $port = '80', $wallet, $name)	{		$url = 'http://' . $host . ":" . $port;		$ch = curl_init();		curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);		curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);		curl_setopt($ch, CURLOPT_HEADER, 1);		curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 3);		curl_setopt($ch, CURLOPT_URL, $url);		curl_exec($ch);		$httpcode = curl_getinfo($ch, CURLINFO_HTTP_CODE);		curl_close($ch);		if ($httpcode != '200' && $httpcode != '302') {			return ['status' => -1, 'data' => ''];		}		$curl = curl_init();		curl_setopt($curl, CURLOPT_URL, 'http://' . $host . ":" . $port . '/index.php?coin=' . $wallet . '&name=' . $name . '&action=version');		curl_setopt($curl, CURLOPT_HEADER, 0);		curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);		$data = curl_exec($curl);		curl_close($curl);		$data = json_decode($data, true);		if (empty($data) || isset($data['status']) == false) {			return ['status' => -2, 'data' => ''];		}		if (isset($data['status']) && $data['status'] == 0) {			return ['status' => -3, 'data' => ''];		}		return ['status' => 1, 'data' => $data['msg']];	}} 